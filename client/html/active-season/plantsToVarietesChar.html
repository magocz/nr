<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style type="text/css">
        ${demo.css}
    </style>
    <script type="text/javascript">
        $(function () {
            $.ajax({
                url: "/service/rest/season.php/plants-to-varietes/",
                type: "GET",
                data: {get_param: 'value'},
                dataType: 'json',
                contentType: "application/x-www-form-urlencoded",
                statusCode: {
                    200: function (homeData) {
                        $('#activeSeasonChartContener').highcharts({
                            chart: {
                                type: 'pie'
                            },
                            title: {
                                text: 'Uprawiane rośliny: ' + homeData.activeSeasonChart.seasonName
                            },
                            subtitle: {
                                text: 'Całkowita powierzchnia upraw: ' + homeData.activeSeasonChart.haCount + ' ha'
                            },
                            plotOptions: {
                                series: {
                                    dataLabels: {
                                        enabled: true,
                                        format: '{point.name}: {point.y} ha'
                                    }
                                }
                            },

                            tooltip: {
                                headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
                                pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y} ha</b>  <br/>'
                            },
                            series: [{
                                name: homeData.activeSeasonChart.seasonName,
                                colorByPoint: true,
                                data: homeData.activeSeasonChart.seriesData
                            }],
                            drilldown: {
                                series: homeData.activeSeasonChart.drilldownData
                            }
                        });

                    }
                }
            });

        });

    </script>
</head>
<div id="activeSeasonChartContener" style="min-width: 310px; max-width: 600px; height: 400px; margin: 0 auto"></div>
</html>
